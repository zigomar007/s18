<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Export</title>
  <link rel="stylesheet" href="all.min.css" />
  <style>
    html, body {
      background-color: #e76f51;
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    .quote {
      font-size: 22px;
      font-weight: 600;
    }

    #author {
      color: purple;
    }

    #quote {
      color: plum;
      font-size: 24px;
      font-weight: 600;
    }

    q {
      quotes: "“" "”" "‘" "’";
    }

    blockquote::before {
      content: "“";
    }

    blockquote::after {
      content: "”";
    }

    /* Masquer les éléments de Google Translate */
    .VIpgJd-ZVi9od-ORHb-OEVmcd,
    .goog-logo-link,
    #google_translate_element,
    .skiptranslate {
      display: none !important;
    }

    body {
      top: 0 !important;
    }
  </style>
</head>
<body>

  <!-- Google Translate (invisible) -->
  <div id="google_translate_element" style="display:none;"></div>
  <q><span id="quote">Chargement...</span></q><br/><br/>
  <span class="quote" id="author"></span>

  <!-- Script citation -->
  <script>
    const quoteEl = document.getElementById("quote");
    const authorEl = document.getElementById("author");

    const apiURL = "https://api.quotable.io/random";

    async function getQuote() {
      try {
        const response = await fetch(apiURL);
        const data = await response.json();
        quoteEl.innerText = data.content;
        authorEl.innerText = data.author;
      } catch (error) {
        quoteEl.innerText = "Impossible de charger la citation.";
        authorEl.innerText = "";
        console.error("Erreur lors de la récupération de la citation :", error);
      }
    }

    getQuote();
  </script>

  <!-- Script Google Translate + forçage en anglais -->
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'fr',
        includedLanguages: 'en',
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE
      }, 'google_translate_element');
    }

    window.onload = function () {
      setTimeout(function () {
        var select = document.querySelector("select.goog-te-combo");
        if (select) {
          select.value = 'en'; // Forcer en anglais
          select.dispatchEvent(new Event('change'));
        }
      }, 1000);
    };
  </script>
  <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>
